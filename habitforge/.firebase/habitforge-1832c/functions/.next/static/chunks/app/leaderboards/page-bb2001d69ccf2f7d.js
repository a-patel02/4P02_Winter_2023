(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[886],{6027:function(e,t,r){Promise.resolve().then(r.bind(r,7662))},7662:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var a=r(7437),n=r(6648),l=r(9870),s=e=>{let{level:t,name:r,rank:s,photoURL:o,className:i}=e;return(0,a.jsxs)("div",{className:"flex w-full p-4 pt-10 flex-col items-center relative bg-secondary rounded-lg border-t-2  ".concat(1==t?"border-yellow-500":2==t?"border-slate-400":3==t?"border-amber-700":""," ").concat(i),children:[1==t?(0,a.jsx)(n.default,{src:"Gold.svg",height:50,width:50,alt:"Gold",className:"absolute -top-6 translate-x-1/2 right-1/2 "}):2==t?(0,a.jsx)(n.default,{src:"Silver.svg",height:50,width:50,alt:"Silver",className:"absolute -top-6 translate-x-1/2 right-1/2 "}):3==t?(0,a.jsx)(n.default,{src:"Bronze.svg",height:50,width:50,alt:"Bronze",className:"absolute -top-6 translate-x-1/2 right-1/2 "}):(0,a.jsx)(a.Fragment,{}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 w-full justify-center text-center",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center justify-center",children:[(0,a.jsx)("img",{src:o,height:30,width:30,alt:"User",className:"rounded-full"}),(0,a.jsx)(l.Z,{variant:"h4",children:r})]}),(0,a.jsx)("hr",{className:"w-full h-[3px] bg-background/10 rounded-full"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(l.Z,{variant:"p",affects:"small",className:"!mt-0 text-muted-foreground",children:"Rank"}),(0,a.jsx)(l.Z,{variant:"h4",className:"!mt-0",children:s})]})]})]})},o=r(9165),i=r(6452),c=r(2265),u=r(7440);let d=c.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,u.cn)("w-full caption-bottom text-sm",r),...n})})});d.displayName="Table";let f=c.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("thead",{ref:t,className:(0,u.cn)("[&_tr]:border-b",r),...n})});f.displayName="TableHeader";let m=c.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,u.cn)("[&_tr:last-child]:border-0",r),...n})});m.displayName="TableBody",c.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,u.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...n})}).displayName="TableFooter";let x=c.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tr",{ref:t,className:(0,u.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...n})});x.displayName="TableRow";let h=c.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("th",{ref:t,className:(0,u.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...n})});h.displayName="TableHead";let g=c.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("td",{ref:t,className:(0,u.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...n})});g.displayName="TableCell",c.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("caption",{ref:t,className:(0,u.cn)("mt-4 text-sm text-muted-foreground",r),...n})}).displayName="TableCaption";var p=r(6337),v=r(9842),b=r(4109),N=()=>{let[e,t]=(0,c.useState)(null);return(0,c.useEffect)(()=>{let e=new Date,r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0);e.getTime(),r.getTime();let a=()=>{let e=Math.floor((new Date().getTime()-r.getTime())/1e3);if(e<60)t("".concat(e," second").concat(1!==e?"s":""," ago"));else{let r=Math.floor(e/60);if(r<60)t("".concat(r," minute").concat(1!==r?"s":""," ago"));else{let e=Math.floor(r/60),a=r%60;t("".concat(e," hour").concat(1!==e?"s":""," and ").concat(a," minute").concat(1!==a?"s":""," ago"))}}};a();let n=setInterval(a,1e3);return()=>clearInterval(n)},[]),(0,a.jsxs)(l.Z,{variant:"p",affects:"muted",className:"!mt-0",children:["Last Updated: ",e]})},j=()=>{let[e,t,r]=(0,i.F_)(o.I8),[n,c,u]=(0,p.d4)((0,v.hJ)(o.db,"leaderboards")),j=n?n.slice().sort((e,t)=>t.rank-e.rank):[];return(0,a.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-between p-8 md:p-24",children:(0,a.jsxs)("div",{className:"flex flex-col gap-8 items-center w-full",children:[(0,a.jsxs)("div",{className:"flex justify-center flex-col gap-2 items-center text-center",children:[(0,a.jsx)(l.Z,{variant:"h2",children:"Leaderboards"}),n?(0,a.jsx)(N,{}):(0,a.jsx)(a.Fragment,{})]}),n?(0,a.jsxs)("div",{className:"flex flex-col gap-8 w-full",children:[(0,a.jsx)("div",{className:"flex gap-8 w-full flex-col md:flex-row",children:j.slice(0,3).map((t,r)=>(0,a.jsx)(s,{level:r+1,name:t.userName==(null==e?void 0:e.displayName)?"You":t.userName,rank:t.rank,photoURL:t.photoURL,className:"".concat(0==r?"order-1 md:order-2":1==r?"order-2 md:order-1":2==r?"order-3 md:order-3":"")}))}),j.length>3?(0,a.jsxs)(d,{children:[(0,a.jsx)(f,{children:(0,a.jsxs)(x,{children:[(0,a.jsx)(h,{className:"w-[100px]"}),(0,a.jsx)(h,{children:"Player Name"}),(0,a.jsx)(h,{className:"text-right",children:"Habit Rank"})]})}),(0,a.jsx)(m,{className:"font-bold text-lg ",children:j.slice(3,11).map((t,r)=>(0,a.jsxs)(x,{children:[(0,a.jsx)(g,{className:"font-medium",children:r+4}),(0,a.jsxs)(g,{className:"flex gap-2 items-center",children:[(0,a.jsx)("img",{src:t.photoURL,height:30,width:30,alt:"User",className:"rounded-full"}),t.userName==(null==e?void 0:e.displayName)?"You":t.userName]}),(0,a.jsx)(g,{className:"text-right",children:t.rank})]}))})]}):(0,a.jsx)(a.Fragment,{})]}):(0,a.jsx)(b.Z,{className:"animate-spin"})]})})}},9870:function(e,t,r){"use strict";var a=r(7437),n=r(7440),l=r(2218),s=r(2265);let o=(0,l.j)("text-xl",{variants:{variant:{h1:"scroll-m-20 text-4xl font-extrabold tracking-tight lg: text-5xl",h2:"scroll-m-20 text-3xl font-semibold tracking-tight first:mt-0",h3:"scroll-m-20 text-2xl font-semibold tracking-tight",h4:"scroll-m-20 text-xl font-semibold tracking-tight",p:"leading-7 [&:not(:first-child)]:mt-6"},affects:{default:"",lead:"text-xl text-muted-foreground",large:"text-lg font-semibold",small:"text-sm font-medium leading-none",muted:"text-sm text-muted-foreground",removePMargin:"[&:not(:first-child)]:mt-0"}},defaultVariants:{variant:"h1",affects:"default"}}),i=s.forwardRef((e,t)=>{let{className:r,variant:l,affects:s,...i}=e,c=l||"p";return(0,a.jsx)(c,{className:(0,n.cn)(o({variant:l,affects:s,className:r})),ref:t,...i})});i.displayName="H1",t.Z=i},9165:function(e,t,r){"use strict";let a;r.d(t,{Fw:function(){return a},I8:function(){return u},RA:function(){return f},db:function(){return d}});var n=r(5186),l=r(9842),s=r(5236),o=r(4742);let i={apiKey:"AIzaSyCKiZ8-lZE8z9eHWEW4ZnwfAfcKwQp8tPQ",authDomain:"habitforge-1832c.firebaseapp.com",projectId:"habitforge-1832c",storageBucket:"habitforge-1832c.appspot.com",messagingSenderId:"346207026425",appId:"1:346207026425:web:7a0d4efdef194a41697628",measurementId:r(357).env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},c=(0,s.C6)().length>0?(0,s.Mq)():(0,s.ZF)(i),u=(0,n.v0)(c),d=(0,l.ad)(c);(async()=>{await (0,o.Gb)()?a=(0,o.KL)(c):console.warn("Firebase Messaging is not supported by your browser")})();let f=async()=>{if(!a){console.warn("Firebase Messaging is not supported by your browser");return}let e=await Notification.requestPermission();console.log(e),"granted"===e&&console.log(await (0,o.LP)(a,{vapidKey:"BMmOSKYwe4lOgqvySO20jpnvsKIR9igPKfylpVG-IElVpqibZE-syt22hlakB3Y0Krur4ethF8G0vD6zzfVIMRc"}))}},7440:function(e,t,r){"use strict";r.d(t,{cn:function(){return l}});var a=r(4839),n=r(6164);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}},4109:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(1066).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6337:function(e,t,r){"use strict";r.d(t,{Xi:function(){return h},d4:function(){return f},ky:function(){return x}});var a=r(9842),n=r(2265),l=function(){return(l=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},s=function(e){return{loading:null==e,value:e}},o=function(e){var t=e?e():void 0,r=(0,n.useReducer)(function(e,t){switch(t.type){case"error":return l(l({},e),{error:t.error,loading:!1,value:void 0});case"reset":return s(t.defaultValue);case"value":return l(l({},e),{error:void 0,loading:!1,value:t.value});default:return e}},s(t)),a=r[0],o=r[1],i=(0,n.useCallback)(function(){o({type:"reset",defaultValue:e?e():void 0})},[e]),c=(0,n.useCallback)(function(e){o({type:"error",error:e})},[]),u=(0,n.useCallback)(function(e){o({type:"value",value:e})},[]);return(0,n.useMemo)(function(){return{error:a.error,loading:a.loading,reset:i,setError:c,setValue:u,value:a.value}},[a.error,a.loading,i,c,u,a.value])},i=function(e,t,r){var a=(0,n.useRef)(e);return(0,n.useEffect)(function(){!t(e,a.current)&&(a.current=e,r&&r())}),a},c=function(e,t){var r=!e&&!t,n=!!e&&!!t&&(0,a.Eo)(e,t);return r||n},u=function(e,t){var r=!e&&!t,n=!!e&&!!t&&(0,a.iE)(e,t);return r||n},d=function(e,t){var r=o(),l=r.error,s=r.loading,c=r.reset,d=r.setError,f=r.setValue,m=r.value,x=i(e,u,c);return(0,n.useEffect)(function(){if(!x.current){f(void 0);return}var e=(null==t?void 0:t.snapshotListenOptions)?(0,a.cf)(x.current,t.snapshotListenOptions,f,d):(0,a.cf)(x.current,f,d);return function(){e()}},[x.current]),[m,s,l]},f=function(e,t){var r=d(e,t),a=r[0],n=r[1],l=r[2];return[m(a,null==t?void 0:t.snapshotOptions,null==t?void 0:t.initialValue),n,l,a]},m=function(e,t,r){return(0,n.useMemo)(function(){var a;return null!==(a=null==e?void 0:e.docs.map(function(e){return e.data(t)}))&&void 0!==a?a:r},[e,t])},x=function(e,t){var r=o(),l=r.error,s=r.loading,u=r.reset,d=r.setError,f=r.setValue,m=r.value,x=i(e,c,u);return(0,n.useEffect)(function(){if(!x.current){f(void 0);return}var e=(null==t?void 0:t.snapshotListenOptions)?(0,a.cf)(x.current,t.snapshotListenOptions,f,d):(0,a.cf)(x.current,f,d);return function(){e()}},[x.current]),[m,s,l]},h=function(e,t){var r=x(e,t),a=r[0],n=r[1],l=r[2];return[g(a,null==t?void 0:t.snapshotOptions,null==t?void 0:t.initialValue),n,l,a]},g=function(e,t,r){return(0,n.useMemo)(function(){var a;return null!==(a=null==e?void 0:e.data(t))&&void 0!==a?a:r},[e,t,r])}}},function(e){e.O(0,[358,220,311,648,971,23,744],function(){return e(e.s=6027)}),_N_E=e.O()}]);